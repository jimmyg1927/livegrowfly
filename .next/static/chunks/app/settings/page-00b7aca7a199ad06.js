(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3592:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var n=a(5155),r=a(2115),s="(prefers-color-scheme: dark)",l=r.createContext(void 0),d={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=r.useContext(l))?e:d},o=null,c=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},m=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},u=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light"),b=a(9946);let h=(0,b.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=(0,b.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),p=(0,b.A)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function y(e){let{name:t,hideUser:a}=e,{theme:r,setTheme:s}=i();return(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[!a&&(0,n.jsxs)("div",{className:"text-lg font-semibold flex items-center gap-2 text-textPrimary",children:[(0,n.jsx)(h,{size:20}),t]}),(0,n.jsx)("button",{onClick:()=>{s("light"===r?"dark":"light")},className:"bg-card text-textPrimary p-2 rounded hover:opacity-80 transition",children:"dark"===r?(0,n.jsx)(x,{size:18}):(0,n.jsx)(p,{size:18})})]})}},6503:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(5155),r=a(2115),s=a(5695),l=a(6874),d=a.n(l),i=a(3592);function o(){let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(null),[l,o]=(0,r.useState)({name:"",linkedIn:"",jobTitle:"",industry:"",narrative:""}),c=localStorage.getItem("growfly_jwt");(0,r.useEffect)(()=>{if(!c)return void e.push("/login");fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(c)}}).then(e=>{if(!e.ok)throw Error("Not authenticated");return e.json()}).then(e=>{a(e),o({name:e.name||"",linkedIn:e.linkedIn||"",jobTitle:e.jobTitle||"",industry:e.industry||"",narrative:e.narrative||""})}).catch(()=>e.push("/login"))},[c,e]);let m=e=>{o({...l,[e.target.name]:e.target.value})},u=async e=>{e.preventDefault();try{let e=await fetch("/api/user",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(l)});if(!e.ok){let{error:t}=await e.json();throw Error(t||e.statusText)}alert("Profile updated!")}catch(e){alert("Error: ".concat(e.message))}};return t?(0,n.jsxs)("div",{className:"space-y-6 bg-background text-textPrimary rounded-2xl p-6",children:[(0,n.jsx)(i.A,{name:t.email}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Your Settings"}),(0,n.jsx)(d(),{href:"/plans",className:"text-sm text-accent hover:underline bg-muted px-3 py-1 rounded",children:"Change Plan"})]}),(0,n.jsxs)("form",{onSubmit:u,className:"space-y-6 max-w-xl",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"Email"}),(0,n.jsx)("input",{type:"email",value:t.email,readOnly:!0,disabled:!0,className:"w-full px-4 py-2 rounded border border-muted bg-muted text-muted-foreground"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"Plan"}),(0,n.jsx)("input",{value:t.subscriptionType||"free",readOnly:!0,disabled:!0,className:"w-full px-4 py-2 rounded border border-muted bg-muted text-muted-foreground capitalize"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"Name"}),(0,n.jsx)("input",{name:"name",value:l.name,onChange:m,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"LinkedIn URL"}),(0,n.jsx)("input",{name:"linkedIn",type:"url",value:l.linkedIn,onChange:m,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"Job Title"}),(0,n.jsx)("input",{name:"jobTitle",value:l.jobTitle,onChange:m,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"Industry"}),(0,n.jsx)("input",{name:"industry",value:l.industry,onChange:m,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-semibold",children:"About You"}),(0,n.jsx)("textarea",{name:"narrative",rows:4,value:l.narrative,onChange:m,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,n.jsx)("button",{type:"submit",className:"bg-accent text-white px-6 py-2 rounded hover:bg-accent/90 transition",children:"Save Changes"})]})]}):(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsx)("p",{className:"text-lg text-gray-500",children:"Loading settingsâ€¦"})})}},9823:(e,t,a)=>{Promise.resolve().then(a.bind(a,6503))}},e=>{var t=t=>e(e.s=t);e.O(0,[822,441,684,358],()=>t(9823)),_N_E=e.O()}]);