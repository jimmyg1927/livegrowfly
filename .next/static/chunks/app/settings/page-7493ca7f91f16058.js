(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{633:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var a=r(9107),n="(prefers-color-scheme: dark)",s="undefined"==typeof window,l=a.createContext(void 0),i={setTheme:e=>{},themes:[]},o=()=>{var e;return null!=(e=a.useContext(l))?e:i},d=null,c=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},u=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},m=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")},1310:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8873).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2803:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(7907),n=r(9107),s=r(4377),l=r(3380),i=r.n(l),o=r(5691);function d(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(null),[l,d]=(0,n.useState)(null),[c,u]=(0,n.useState)({name:"",linkedIn:"",jobTitle:"",industry:"",narrative:""}),[m,h]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let t=localStorage.getItem("growfly_jwt");t?r(t):e.push("/login")},[e]),(0,n.useEffect)(()=>{t&&fetch("".concat("https://growlfynew0425.vercel.app/","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{if(!e.ok)throw Error("Not authenticated");return e.json()}).then(e=>{d(e),u({name:e.name||"",linkedIn:e.linkedIn||"",jobTitle:e.jobTitle||"",industry:e.industry||"",narrative:e.narrative||""}),h(!1)}).catch(()=>e.push("/login"))},[t,e]);let b=e=>{u({...c,[e.target.name]:e.target.value})},p=async e=>{e.preventDefault();try{let e=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/user"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)});if(!e.ok){let{error:t}=await e.json();throw Error(t||e.statusText)}alert("Profile updated!")}catch(e){alert("Error: ".concat(e.message))}};return m||!l?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("p",{className:"text-lg text-gray-500",children:"Loading settingsâ€¦"})}):(0,a.jsxs)("div",{className:"space-y-6 bg-background text-textPrimary rounded-2xl p-6",children:[(0,a.jsx)(o.A,{name:l.email}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Your Settings"}),(0,a.jsx)(i(),{href:"/plans",className:"text-sm text-accent hover:underline bg-muted px-3 py-1 rounded",children:"Change Plan"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6 max-w-xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Email"}),(0,a.jsx)("input",{type:"email",value:l.email,readOnly:!0,disabled:!0,className:"w-full px-4 py-2 rounded border border-muted bg-muted text-muted-foreground"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Plan"}),(0,a.jsx)("input",{value:l.subscriptionType||"free",readOnly:!0,disabled:!0,className:"w-full px-4 py-2 rounded border border-muted bg-muted text-muted-foreground capitalize"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Name"}),(0,a.jsx)("input",{name:"name",value:c.name,onChange:b,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"LinkedIn URL"}),(0,a.jsx)("input",{name:"linkedIn",type:"url",value:c.linkedIn,onChange:b,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Job Title"}),(0,a.jsx)("input",{name:"jobTitle",value:c.jobTitle,onChange:b,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Industry"}),(0,a.jsx)("input",{name:"industry",value:c.industry,onChange:b,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"About You"}),(0,a.jsx)("textarea",{name:"narrative",rows:4,value:c.narrative,onChange:b,className:"w-full px-4 py-2 rounded border border-card bg-background"})]}),(0,a.jsx)("button",{type:"submit",className:"bg-accent text-white px-6 py-2 rounded hover:bg-accent/90 transition",children:"Save Changes"})]})]})}},5551:(e,t,r)=>{Promise.resolve().then(r.bind(r,2803))},5691:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(7907);r(9107);var n=r(633),s=r(1310),l=r(6089),i=r(8236);function o(e){let{name:t,hideUser:r}=e,{theme:o,setTheme:d}=(0,n.D)();return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[!r&&(0,a.jsxs)("div",{className:"text-lg font-semibold flex items-center gap-2 text-textPrimary",children:[(0,a.jsx)(s.A,{size:20}),t]}),(0,a.jsx)("button",{onClick:()=>{d("light"===o?"dark":"light")},className:"bg-card text-textPrimary p-2 rounded hover:opacity-80 transition",children:"dark"===o?(0,a.jsx)(l.A,{size:18}):(0,a.jsx)(i.A,{size:18})})]})}},6089:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8873).A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},8236:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8873).A)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},8873:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(9107);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...d,width:n,height:n,stroke:r,strokeWidth:l?24*Number(s)/Number(n):s,className:i("lucide",c),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:o,...d}=r;return(0,a.createElement)(c,{ref:s,iconNode:t,className:i("lucide-".concat(n(l(e))),"lucide-".concat(e),o),...d})});return r.displayName=l(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[852,548,784,358],()=>t(5551)),_N_E=e.O()}]);