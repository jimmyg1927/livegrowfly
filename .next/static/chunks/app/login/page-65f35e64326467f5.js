(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4377:(e,t,a)=>{"use strict";var s=a(1973);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},4707:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(7907),r=a(9107),o=a(4377),n=a(5687);function u(){let e=(0,o.useRouter)(),[t,a]=(0,r.useState)(""),[u,l]=(0,r.useState)(""),[d,i]=(0,r.useState)("");async function c(a){a.preventDefault(),i("");try{let a=await fetch("".concat(n.env.NEXT_PUBLIC_API_BASE_URL,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:u})}),s=await a.json();if(!a.ok)throw Error(s.message||"Login failed");sessionStorage.setItem("jwt",s.token),e.push("/dashboard")}catch(e){i(e.message||"Something went wrong")}}return(0,s.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Login to Growfly"}),(0,s.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",value:t,onChange:e=>a(e.target.value),required:!0,className:"w-full p-2 border rounded"}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:e=>l(e.target.value),required:!0,className:"w-full p-2 border rounded"}),d&&(0,s.jsx)("p",{className:"text-red-500",children:d}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-black text-white p-2 rounded",children:"Login"})]})]})}},6719:(e,t,a)=>{Promise.resolve().then(a.bind(a,4707))}},e=>{var t=t=>e(e.s=t);e.O(0,[548,784,358],()=>t(6719)),_N_E=e.O()}]);