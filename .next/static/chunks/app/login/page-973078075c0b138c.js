(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1950:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});let r="https://glowfly-api-production.up.railway.app"},4815:(e,t,a)=>{Promise.resolve().then(a.bind(a,8007))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},8007:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5155),s=a(2115),u=a(5695),n=a(1950);function l(){let e=(0,u.useRouter)(),[t,a]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(null);async function c(a){a.preventDefault(),d(null);try{let a=await fetch("".concat(n.J,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:t,password:l})});if(!a.ok){let e=await a.json();throw Error((null==e?void 0:e.error)||"Login failed")}let r=await a.json();localStorage.setItem("growfly_jwt",r.token),e.push("/dashboard")}catch(e){d(e.message)}}return(0,r.jsxs)("div",{className:"max-w-md mx-auto mt-20 p-6 border rounded bg-background text-textPrimary",children:[(0,r.jsx)("h1",{className:"text-2xl mb-4",children:"Log in"}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",value:t,onChange:e=>a(e.target.value),placeholder:"Email",required:!0,className:"w-full px-3 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",value:l,onChange:e=>o(e.target.value),placeholder:"Password",required:!0,className:"w-full px-3 py-2 border rounded"}),(0,r.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Sign In"}),i&&(0,r.jsx)("p",{className:"text-red-500 mt-2",children:i})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4815)),_N_E=e.O()}]);