(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4707:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(7907),s=a(9107),l=a(4377),n=a(3380),o=a.n(n),i=a(9514);function u(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[d,c]=(0,s.useState)(null);async function p(a){a.preventDefault(),c(null);try{let a=await fetch("".concat(i.J,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:t,password:n})});if(!a.ok){let e=await a.json();throw Error((null==e?void 0:e.error)||"Login failed")}let r=await a.json();localStorage.setItem("growfly_jwt",r.token),e.push("/dashboard")}catch(e){c(e.message)}}return(0,r.jsxs)("div",{className:"max-w-md mx-auto mt-20 p-6 border rounded bg-background text-textPrimary",children:[(0,r.jsx)("h1",{className:"text-2xl mb-4",children:"Log in"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",value:t,onChange:e=>a(e.target.value),placeholder:"Email",required:!0,className:"w-full px-3 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",value:n,onChange:e=>u(e.target.value),placeholder:"Password",required:!0,className:"w-full px-3 py-2 border rounded"}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)(o(),{href:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})}),(0,r.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Sign In"}),d&&(0,r.jsx)("p",{className:"text-red-500 mt-2",children:d})]})]})}},6719:(e,t,a)=>{Promise.resolve().then(a.bind(a,4707))},9514:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});let r="https://glowfly-api-production.up.railway.app"}},e=>{var t=t=>e(e.s=t);e.O(0,[852,548,784,358],()=>t(6719)),_N_E=e.O()}]);