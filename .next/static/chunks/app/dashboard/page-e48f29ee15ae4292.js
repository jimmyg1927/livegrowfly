(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{629:(e,s,t)=>{"use strict";t.d(s,{D:()=>c,default:()=>i,w:()=>n});var a=t(7907),r=t(9107);let l=(0,r.createContext)(void 0),n=e=>{let{children:s}=e,[t,n]=(0,r.useState)("light");return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e?(n(e),document.documentElement.classList.add(e)):document.documentElement.classList.add("light")},[]),(0,a.jsx)(l.Provider,{value:{theme:t,toggleTheme:()=>{let e="light"===t?"dark":"light";n(e),localStorage.setItem("theme",e),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e)}},children:s})},c=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeContextProvider");return e},i=n},763:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(7907),r=t(9107),l=t(4377),n=t(7576),c=t(6455);function i(e){let{used:s,limit:t}=e,r=Math.min(s/t*100,100);return(0,a.jsxs)("div",{className:"bg-card text-textPrimary p-4 rounded-xl shadow-smooth mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold",children:"Prompts Used This Month"}),(0,a.jsxs)("p",{className:"text-sm",children:[s," / ",t]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded h-2",children:(0,a.jsx)("div",{className:"bg-accent h-2 rounded",style:{width:"".concat(r,"%")}})})]})}function o(e){let{response:s}=e,t=async e=>{try{await fetch("".concat("https://growlfynew0425.vercel.app/","/api/feedback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vote:e,response:s})})}catch(e){console.error("Voting failed:",e)}};return(0,a.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Was this helpful?"}),(0,a.jsx)("button",{className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600",onClick:()=>t("up"),children:"\uD83D\uDC4D Yes"}),(0,a.jsx)("button",{className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",onClick:()=>t("down"),children:"\uD83D\uDC4E No"})]})}let d=["\uD83D\uDCCA Give me a social media plan for this week","\uD83C\uDFAF Suggest a TikTok strategy for my brand","\uD83D\uDCDD Write me a Facebook ad copy for a product launch","\uD83D\uDCC5 Generate a daily content calendar for Instagram","\uD83D\uDCA1 Give me 5 growth hacks for my Shopify store"];function h(e){let{onSelect:s}=e;return(0,a.jsxs)("div",{className:"bg-card text-textPrimary p-4 rounded-xl shadow-smooth mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"✨ Need inspiration? Try one of these prompts:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e,t)=>(0,a.jsx)("button",{onClick:()=>s(e.replace(/^[^a-zA-Z]+/,"")),className:"bg-primary text-white px-3 py-1 rounded hover:bg-blue-700 text-sm transition-colors",children:e},t))})]})}var x=t(5687);function m(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(null),[d,m]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[j,b]=(0,r.useState)(!1),w=localStorage.getItem("growfly_jwt");(0,r.useEffect)(()=>{(async()=>{if(!w)return e.push("/login");try{let s=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(w)}}),a=await s.json();s.ok?t(a):(localStorage.removeItem("growfly_jwt"),e.push("/login"))}catch(s){localStorage.removeItem("growfly_jwt"),e.push("/login")}})()},[w,e]),(0,r.useEffect)(()=>{s&&(s.subscriptionType&&"none"!==s.subscriptionType||e.push("/plans"))},[s,e]);let y=async()=>{if(d){b(!0),p(""),g("");try{let e=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/chat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)},body:JSON.stringify({message:d})}),s=await e.json();if(!e.ok)throw Error(s.error||"Something went wrong");p(s.response),s.followUps&&g(s.followUps)}catch(e){p("❌ Error: ".concat(e.message))}finally{b(!1)}}};if(!s)return(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Loading your dashboard..."})});let N="".concat(x.env.NEXT_PUBLIC_FRONTEND_URL,"/signup?ref=").concat(s.referralCode);return(0,a.jsxs)("div",{className:"flex h-screen bg-[#2daaff] text-white",children:[(0,a.jsx)(n.A,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)(c.A,{name:s.email}),(0,a.jsxs)("main",{className:"p-6 overflow-y-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome, ",s.name||s.email]}),(0,a.jsxs)("span",{className:"text-sm bg-black text-white rounded px-3 py-1 mt-2 md:mt-0",children:["Plan: ",s.subscriptionType]})]}),(0,a.jsx)(i,{used:s.promptsUsed,limit:s.promptLimit}),(0,a.jsx)(h,{onSelect:e=>{m(e)}}),(0,a.jsxs)("section",{className:"bg-black text-white rounded-2xl shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"\uD83C\uDF81 Refer Your Friends!"}),(0,a.jsx)("p",{className:"mb-4",children:"Share this link and get 50 FREE prompts when your friends sign up:"}),(0,a.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex items-center justify-between",children:[(0,a.jsx)("span",{className:"break-all",children:N}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(N),alert("Referral link copied to clipboard!")},className:"ml-4 bg-blue-600 hover:bg-blue-800 text-white px-4 py-1 rounded",children:"Copy Link"})]})]}),(0,a.jsxs)("section",{className:"bg-white text-black rounded-2xl shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"\uD83E\uDD16 Ask Growfly AI"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g. Suggest a TikTok strategy for my clothing brand",className:"w-full border rounded px-4 py-2 mt-2 mb-4",value:d,onChange:e=>m(e.target.value)}),(0,a.jsx)("button",{className:"bg-[#2daaff] text-white px-4 py-2 rounded hover:bg-blue-700",onClick:y,disabled:j,children:j?"Thinking...":"Submit Prompt"}),u&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"\uD83D\uDCEC AI Response"}),(0,a.jsx)("div",{className:"bg-gray-100 text-gray-800 p-4 rounded mt-2",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:u})}),(0,a.jsx)(o,{response:u})]}),f&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold",children:"Try asking:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-700",children:f.split("\n").map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]}),(0,a.jsxs)("section",{className:"bg-black text-white rounded-2xl shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"\uD83D\uDCE2 Growfly News"}),(0,a.jsx)("p",{children:"New feature: Share responses with your team!"})]})]})]})]})}},4377:(e,s,t)=>{"use strict";var a=t(1973);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},6455:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(7907);t(9107);var r=t(629),l=t(8236),n=t(6089);function c(){let{theme:e,toggleTheme:s}=(0,r.D)();return(0,a.jsx)("button",{onClick:s,className:"flex items-center gap-2 px-3 py-1 bg-accent text-white rounded-full hover:bg-accent/80 transition duration-300 shadow-smooth","aria-label":"Toggle Light/Dark Mode",children:"light"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{size:16}),(0,a.jsx)("span",{className:"text-sm",children:"Dark Mode"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{size:16}),(0,a.jsx)("span",{className:"text-sm",children:"Light Mode"})]})})}function i(e){let{name:s}=e,{theme:t}=(0,r.D)();return(0,a.jsxs)("header",{className:"bg-primary text-white px-6 py-4 flex justify-between items-center shadow-md",children:[(0,a.jsx)("h1",{className:"text-lg font-bold",children:"Welcome to Growfly"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Logged in as: ",s]}),(0,a.jsx)(c,{})]})]})}},7576:(e,s,t)=>{"use strict";t.d(s,{A:()=>x});var a=t(7907),r=t(3380),l=t.n(r),n=t(4748),c=t(563),i=t(4066),o=t(7011),d=t(328),h=t(8036);function x(){return(0,a.jsxs)("aside",{className:"bg-primary text-white w-64 p-6 flex flex-col space-y-6 h-screen",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"Growfly Logo",width:40,height:40}),(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Growfly"})]}),(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:"/dashboard",className:"flex items-center space-x-2 hover:text-accent",children:[(0,a.jsx)(c.A,{size:18}),(0,a.jsx)("span",{children:"Dashboard"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:"/feedback",className:"flex items-center space-x-2 hover:text-accent",children:[(0,a.jsx)(i.A,{size:18}),(0,a.jsx)("span",{children:"Feedback"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:"/change-plan",className:"flex items-center space-x-2 hover:text-accent",children:[(0,a.jsx)(o.A,{size:18}),(0,a.jsx)("span",{children:"Change Plan"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:"/settings",className:"flex items-center space-x-2 hover:text-accent",children:[(0,a.jsx)(d.A,{size:18}),(0,a.jsx)("span",{children:"Settings"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:"/growfly-news",className:"flex items-center space-x-2 hover:text-accent",children:[(0,a.jsx)(h.A,{size:18}),(0,a.jsx)("span",{children:"Growfly News"})]})})]})]})}},9168:(e,s,t)=>{Promise.resolve().then(t.bind(t,763))}},e=>{var s=s=>e(e.s=s);e.O(0,[83,548,784,358],()=>s(9168)),_N_E=e.O()}]);