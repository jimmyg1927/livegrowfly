(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{3112:(e,t,s)=>{Promise.resolve().then(s.bind(s,6858))},4377:(e,t,s)=>{"use strict";var n=s(1973);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},6858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(7907),r=s(9107),a=s(4377);function i(){let e=(0,a.useSearchParams)(),t=(0,a.useRouter)(),[s,i]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!e){u("Missing search parameters."),i(!1);return}let s=e.get("session_id");if(!s){u("Missing session ID."),i(!1);return}(async()=>{try{let e=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/confirm-payment?session_id=").concat(s)),n=await e.json();n.token?(localStorage.setItem("growfly_jwt",n.token),t.push("/dashboard")):u("Failed to confirm payment.")}catch(e){u("Error confirming payment.")}finally{i(!1)}})()},[e,t]),s)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center text-white bg-blue-600",children:(0,n.jsx)("p",{children:"Processing your payment... please wait \uD83D\uDE80"})}):c?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center text-white bg-red-600",children:(0,n.jsx)("p",{children:c})}):null}function c(){return(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center text-white bg-blue-600",children:"Loading..."}),children:(0,n.jsx)(i,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[548,784,358],()=>t(3112)),_N_E=e.O()}]);