(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4377:(e,t,a)=>{"use strict";var s=a(1973);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},5069:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(7907),r=a(9107),c=a(4377);function n(){let e=(0,c.useRouter)(),[t,a]=(0,r.useState)(null),[n,o]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),u=localStorage.getItem("growfly_jwt");return((0,r.useEffect)(()=>{(async()=>{if(!u)return e.push("/login");try{let t=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(u)}}),s=await t.json();t.ok?(a(s),"jimmy@growfly.io"!==s.email&&e.push("/dashboard")):e.push("/login")}catch(t){e.push("/login")}})()},[u,e]),(0,r.useEffect)(()=>{let e=async()=>{if(u)try{let e=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/feedback"),{headers:{Authorization:"Bearer ".concat(u)}}),t=await e.json();e.ok&&o(t)}catch(e){console.error("Error fetching feedback:",e)}finally{i(!1)}};t&&e()},[t,u]),l)?(0,s.jsx)("div",{className:"flex items-center justify-center h-screen text-white",children:(0,s.jsx)("p",{className:"text-lg",children:"Loading admin dashboard..."})}):(0,s.jsxs)("div",{className:"p-10 text-white bg-[#1a1a1a] min-h-screen",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Admin Feedback Dashboard"}),0===n.length?(0,s.jsx)("p",{children:"No feedback yet."}):(0,s.jsx)("ul",{className:"space-y-4",children:n.map(e=>(0,s.jsxs)("li",{className:"bg-gray-800 p-4 rounded shadow",children:[(0,s.jsx)("p",{className:"text-lg mb-2",children:e.response}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Votes: \uD83D\uDC4D ",e.upvotes," / \uD83D\uDC4E ",e.downvotes]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Submitted on: ",new Date(e.createdAt).toLocaleString()]})]},e.id))})]})}},9021:(e,t,a)=>{Promise.resolve().then(a.bind(a,5069))}},e=>{var t=t=>e(e.s=t);e.O(0,[548,784,358],()=>t(9021)),_N_E=e.O()}]);