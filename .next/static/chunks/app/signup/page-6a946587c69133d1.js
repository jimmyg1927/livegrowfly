(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{682:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(5155),s=r(5695),n=r(2115);function l(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)("free"),[l,o]=(0,n.useState)(null),[u,c]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[b,m]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[f,g]=(0,n.useState)(null),[w,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("plan")||"free",a=e.get("ref")||null;r(t),o(a)},[]);let y=async r=>{if(r.preventDefault(),g(null),b!==h)return void g("Passwords do not match.");x(!0);try{let r=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:b,name:d,subscriptionType:t,referrerCode:l})}),a=r.headers.get("content-type");if(!r.ok){if(a&&a.includes("application/json")){let e=await r.json();g(e.error||"Something went wrong.")}else g("Unexpected server error. Please try again.");return}let s=await r.json();s.token?(localStorage.setItem("growfly_jwt",s.token),e.push("/dashboard")):g("Signup succeeded but no token returned.")}catch(e){g("Network error or server is unreachable.")}finally{x(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-600 to-blue-300 text-white",children:(0,a.jsxs)("form",{onSubmit:y,className:"bg-white text-black rounded-2xl shadow-lg p-8 max-w-md w-full",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-6 text-center",children:["\uD83D\uDE80 Sign Up for ",t.charAt(0).toUpperCase()+t.slice(1)," Plan"]}),l&&(0,a.jsxs)("p",{className:"text-sm text-green-600 mb-4",children:["\uD83C\uDF89 You were referred! Your referrer code: ",(0,a.jsx)("strong",{children:l})]}),f&&(0,a.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"Name"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>i(e.target.value),className:"w-full border border-gray-300 p-2 rounded mb-4",required:!0}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"Email"}),(0,a.jsx)("input",{type:"email",value:u,onChange:e=>c(e.target.value),className:"w-full border border-gray-300 p-2 rounded mb-4",required:!0}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"Password"}),(0,a.jsx)("input",{type:"password",value:b,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 p-2 rounded mb-4",required:!0}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",value:h,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 p-2 rounded mb-6",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:w,className:"w-full py-2 rounded-xl text-white font-semibold ".concat(w?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-800 transition"),children:w?"Creating Account...":"Create Account"})]})})}},3195:(e,t,r)=>{Promise.resolve().then(r.bind(r,682))},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3195)),_N_E=e.O()}]);