(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{4377:(e,t,r)=>{"use strict";var s=r(1973);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5150:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(7907),a=r(4377),n=r(9107);function l(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)("free"),[l,o]=(0,n.useState)(null),[u,c]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[b,h]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[p,f]=(0,n.useState)(null),[g,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("plan")||"free",s=e.get("ref")||null;r(t),o(s)},[]);let y=async r=>{if(r.preventDefault(),f(null),b!==m)return void f("Passwords do not match.");w(!0);try{let r=await fetch("".concat("https://growlfynew0425.vercel.app/","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:b,name:i,subscriptionType:t,referrerCode:l})}),s=r.headers.get("content-type");if(!r.ok){if(s&&s.includes("application/json")){let e=await r.json();f(e.error||"Something went wrong.")}else f("Unexpected server error. Please try again.");return}let a=await r.json();a.token?(localStorage.setItem("growfly_jwt",a.token),e.push("/dashboard")):f("Signup succeeded but no token returned.")}catch(e){f("Network error or server is unreachable.")}finally{w(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-[#0f172a] to-[#1e293b] flex items-center justify-center px-4 py-12 text-white",children:(0,s.jsxs)("div",{className:"bg-[#111827] text-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-[#2c3e50]",children:[(0,s.jsx)("button",{onClick:()=>e.push("/plans"),className:"text-sm text-blue-400 hover:underline mb-4",children:"← Back to Plans"}),(0,s.jsxs)("h1",{className:"text-2xl font-bold mb-4 text-center",children:["\uD83D\uDE80 Sign Up for ",t.charAt(0).toUpperCase()+t.slice(1)," Plan"]}),l&&(0,s.jsxs)("p",{className:"text-sm text-green-400 mb-4 text-center",children:["\uD83C\uDF89 You were referred! Referrer Code: ",(0,s.jsx)("strong",{children:l})]}),p&&(0,s.jsx)("p",{className:"text-red-500 mb-4 text-center",children:p}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 font-semibold text-sm",children:"Name"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-[#1f2937] text-white focus:outline-accent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 font-semibold text-sm",children:"Email"}),(0,s.jsx)("input",{type:"email",value:u,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-[#1f2937] text-white focus:outline-accent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 font-semibold text-sm",children:"Password"}),(0,s.jsx)("input",{type:"password",value:b,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-[#1f2937] text-white focus:outline-accent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 font-semibold text-sm",children:"Confirm Password"}),(0,s.jsx)("input",{type:"password",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-[#1f2937] text-white focus:outline-accent",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"w-full py-2 rounded-lg text-white font-semibold ".concat(g?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 transition"),children:g?"Creating Account...":"Create Account"})]})]})})}},8299:(e,t,r)=>{Promise.resolve().then(r.bind(r,5150))}},e=>{var t=t=>e(e.s=t);e.O(0,[548,784,358],()=>t(8299)),_N_E=e.O()}]);